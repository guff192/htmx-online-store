{% if not request.headers.get('hx-request') %}
    {% extends '_base.html' %}

    {% block title %}{{ shop.name }} | Главная{% endblock %}

    {% block header %}
        <div>
            <div id="banners" class="mb-1 w-full">
                {% for banner in banners %}
                <div class="bg-lightBlue p-1 flex justify-between items-center mb-2 h-screen">
                    <div class="bg-darkBlue flex flex-col justify-center w-5/6 h-full overflow-hidden rounded-lg">
                        <img src="{{ banner.img_url }}">
                    </div>

                    <div class="flex flex-col justify-around w-1/6 h-full rounded-lg">
                        <h3 class="text-center text-xl font-bold uppercase">
                            {{ banner.name }}
                        </h3>

                        <p class="text-sm text-center">
                        {{ banner.description }}
                        </p>
                    </div>

                    
                </div>
                {% endfor %}
            </div>
        </div>

    {% endblock %}

{% else %}
    <script type="text/javascript">
        document.title = '{{ shop.name }} | Главная';

        pageHeader = document.getElementById('page-header');
        pageHeader.innerHTML = `
            <div>
                <div id="banners" class="mb-1 w-full overflow-hidden">
                    {% for banner in banners %}
                    <div class="bg-lightBlue flex justify-between p-1 mb-2 h-screen">
                        <div class="bg-darkBlue flex flex-col justify-center w-5/6 h-full overflow-hidden rounded-lg">
                            <img src="{{ banner.img_url }}">
                        </div>
                        
                        <div class="flex flex-col justify-around w-1/6 h-full rounded-lg">
                            <h3 class="text-center text-xl font-bold uppercase my-2">
                            {{ banner.name }}
                            </h3>

                            <p class="text-sm text-center">
                            {{ banner.description }}
                            </p>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        `;
    </script>
{% endif %}

{% block content %}
<div id="main-content" class="container text-center">
    <p class="text-indigo-50 mb-5">
        Добро пожаловать
        {% if request.state.user %}, <span class="font-bold">{{ request.state.user.name }}</span>,{% endif %}
        ну и т.д.<br />
        Здесь вы можете найти корпоративные ноутбуки в замечательном состоянии и по привлекательной цене.
    </p>

    <div id="brands">
        <h2 class="text-3xl font-bold text-center text-white mb-1 mt-5">Бренды</h2>
        <div id="brands-logos" class="flex flex-wrap justify-center content-center mt-5">
            <div class="w-1/3 h-20 flex justify-center">
                <img class="" src="https://upload.wikimedia.org/wikipedia/commons/c/c9/Lenovo_%282015%29.svg" alt="Lenovo">
            </div>
            <div class="w-1/3 h-20 flex justify-center">
                <img class="" src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Dell_logo_2016.svg/1200px-Dell_logo_2016.svg.png" alt="Dell">
            </div>
            <div class="w-1/3 h-20 flex justify-center">
                <img class="" src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ad/HP_logo_2012.svg/1200px-HP_logo_2012.svg.png" alt="HP">
            </div>
        </div>
    </div>

   <div id="new-products">
       <h2 class="text-3xl font-bold text-center text-white mb-1 mt-5">Новинки</h2>
       <div id="products" class="md:grid md:grid-cols-3 md:gap-3">
           {% for product in products %}
               {% include 'partials/product_card.html' %}
           {% endfor %}
       </div>
   </div>

   <div id="reviews" style="height: 800px;">
       <div class="w-full h-full">
           <h2 class="text-3xl font-bold text-center text-white mb-1 mt-5">Отзывы</h2>
           <iframe style="width:100%;height:100%;border:1px solid #e6e6e6;border-radius:8px;box-sizing:border-box" src="https://yandex.ru/maps-reviews-widget/119376854596?comments"></iframe>
       </div>
   </div>

   <div id="contacts">
       <h2 class="text-3xl font-bold text-center text-white mb-1 mt-12">Контакты</h2>
       <p>Москва, Садовая-Кудринская ул., 23, стр. 5</p>
       <div class="rounded-lg">
           <iframe style="border-radius: 8px;" src="https://yandex.ru/map-widget/v1/?um=constructor%3A7cad2bdb25cf08e90987de8958d57e9e429f04eead06db4f723301aed557f4f9&amp;source=constructor" width="100%" height="600" frameborder="0"></iframe>       
       </div>
   </div>
{% endblock %}
